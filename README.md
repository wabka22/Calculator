Задача 4

 

Модифицировать разработанный в задаче 3 класс "Калькулятор".

 

Вход:

- выражение из

  - целых и/или вещественных чисел

  - переменных, принимающих значения из множеств:

    - целых чисел

                - вещественных чисел

                - полиномов от одной переменной (x)

  - операций +, -, *, /, %, скобок (, )

  - функций exp, sin, cos, lg, sqrt

 

Выход:

- если выражение корректно и состоит только из чисел, результат вычисления

- если выражение корректно и содержит переменные, должна быть предусмотрена возможность задать значения переменных, после чего выдать результат вычисления

НО

- если выражение корректно, не содержит функций и значение хотя бы одной переменной - полином, то выдать результат в виде полинома

- если выражение некорректно, сообщение об ошибке

- если выражение невычислимо, сообщение об ошибке

 

Детали:

- вещественные числа записываются в десятичном представлении с разделителем .

- считать, что операция % не определена для вещественных чисел

- операции должны выполняться с учетом типа операндов (если оба операнда целые, то операция целочисленная)

- если все операнды в выражении целые, то результат д.б. целого типа

- имена переменных подчиняются правилам формирования идентификаторов языка С++
 